!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.pattern=e()}(this,function(){"use strict";function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Object.keys(F);t.forEach(function(t){e.splice(e.indexOf(t),1)});var n=Math.floor(Math.random()*e.length);return e[n]}function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"square",e=arguments[1],n=arguments[2],i=arguments[3],r=document.createElement("canvas"),s=r.getContext("2d"),o=2*i,a=M[t],h=new a(i,e,n),u=s.createPattern(h.drawTile(),"repeat");return r.width=o,r.height=o,u.shapeType=t,u}function n(n){var i=void 0,r=void 0;return n.map(function(n,s,o){var a=void 0;return 0===s?(a=t(),r=a,i=r):s===o.length-1?a=t([r,i]):(a=t([r]),r=a),e(a,n)})}var i="rgba(100, 100, 100, 0.7)",r="rgba(255, 255, 255, 0.8)",s="round",o=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,r){var a={key:t,arg:e,resolve:n,reject:r,next:null};o?o=o.next=a:(s=o=a,i(t,e))})}function i(n,s){try{var o=e[n](s),a=o.value;a instanceof t?Promise.resolve(a.value).then(function(t){i("next",t)},function(t){i("throw",t)}):r(o.done?"return":"normal",o.value)}catch(h){r("throw",h)}}function r(t,e){switch(t){case"return":s.resolve({value:e,done:!0});break;case"throw":s.reject(e);break;default:s.resolve({value:e,done:!1})}s=s.next,s?i(s.key,s.arg):o=null}var s,o;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return o(this,t),this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._canvas.width=e,this._canvas.height=e,this._context.fillStyle=n,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._size=e,this._patternColor=s,this}return a(t,[{key:"setStrokeProps",value:function(){this._context.strokeStyle=this._patternColor,this._context.lineWidth=this._size/10,this._context.lineJoin=s,this._context.lineCap=s}},{key:"setFillProps",value:function(){this._context.fillStyle=this._patternColor}}]),t}(),l=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawPlus(),this.drawPlus(t,t),this._context.stroke(),this._canvas}},{key:"drawPlus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=n/4;this._context.moveTo(r+t,0+e),this._context.lineTo(r+t,i+e),this._context.moveTo(0+t,r+e),this._context.lineTo(i+t,r+e),this._context.closePath()}}]),e}(c),_=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawCross(),this.drawCross(t,t),this._context.stroke(),this._canvas}},{key:"drawCross",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=2;this._context.moveTo(t+r,e+r),this._context.lineTo(i-r+t,i-r+e),this._context.moveTo(t+r,i-r+e),this._context.lineTo(i-r+t,e+r),this._context.closePath()}}]),e}(c),g=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDash(),this.drawDash(t,t),this._context.stroke(),this._canvas}},{key:"drawDash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=2;this._context.moveTo(t+r,e+r),this._context.lineTo(i-r+t,i-r+e),this._context.closePath()}}]),e}(c),v=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;this._context.beginPath(),this.setStrokeProps();var e=new _;e.drawCross.call(this);var n=new g;return n.drawDash.call(this,t,t),this._context.stroke(),this._canvas}}]),e}(c),f=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDot(),this.drawDot(t,t),this._context.fill(),this._canvas}},{key:"drawDot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._size/10,i=this._size,r=i/4,s=r+t,o=r+e;this._context.moveTo(s+r,o),this._context.arc(s,o,n,0,2*Math.PI),this._context.closePath()}}]),e}(c),d=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;this._context.beginPath(),this.setStrokeProps();var e=new g;e.drawDash.call(this,t,t),this._context.closePath(),this._context.stroke(),this.setFillProps();var n=new f;return n.drawDot.call(this),this._context.fill(),this._canvas}}]),e}(c),p=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2,e=this._size/5;return this._context.beginPath(),this.setFillProps(),this.drawDot(0,0,e),this.drawDot(t,t,e),this._context.fill(),this._canvas}}]),e}(f),m=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2,e=this._size/5;return this._context.beginPath(),this.setStrokeProps(),this.drawDot(0,0,e),this.drawDot(t,t,e),this._context.stroke(),this._canvas}}]),e}(f),x=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawLine(),this.drawLine(t,t),this._context.stroke(),this._canvas}},{key:"drawLine",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),e=this._size,n=e/4;this._context.moveTo(0,n+t),this._context.lineTo(this._size,n+t),this._context.closePath()}}]),e}(c),y=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),x.prototype.drawTile.call(this),this._canvas}}]),e}(x),w=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawWeave(0,0),this._context.stroke(),this._canvas}},{key:"drawWeave",value:function(t,e){var n=this._size,i=n/2;this._context.moveTo(t+1,e+1),this._context.lineTo(i-1,i-1),this._context.moveTo(i+1,n-1),this._context.lineTo(n-1,i+1),this._context.closePath()}}]),e}(c),P=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawZigzag(),this.drawZigzag(this._size/2),this._context.stroke(),this._canvas}},{key:"drawZigzag",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this._size,n=e/4,i=e/2,r=e/10;this._context.moveTo(0,r+t),this._context.lineTo(n,i-r+t),this._context.lineTo(i,r+t),this._context.lineTo(e-n,i-r+t),this._context.lineTo(e,r+t)}}]),e}(c),k=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),P.prototype.drawTile.call(this),this._canvas}}]),e}(P),T=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiagonalLine(),this.drawDiagonalLine(t,t),this._context.stroke(),this._canvas}},{key:"drawDiagonalLine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=1;this._context.moveTo(i-r-t,-1*r+e),this._context.lineTo(n+1-t,i+1+e),this._context.closePath()}}]),e}(c),b=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),T.prototype.drawTile.call(this),this._canvas}}]),e}(T),z=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawSquare(),this.drawSquare(t,t),this._context.fill(),this._canvas}},{key:"drawSquare",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=n/20;this._context.fillRect(t+r,e+r,i-2*r,i-2*r),this._context.closePath()}}]),e}(c),O=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawBox(),this.drawBox(t,t),this._context.stroke(),this._canvas}},{key:"drawBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=n/20;this._context.strokeRect(t+r,e+r,i-4*r,i-4*r),this._context.closePath()}}]),e}(c),j=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawTriangle(),this.drawTriangle(t,t),this._context.fill(),this._canvas}},{key:"drawTriangle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=n/4;this._context.moveTo(r+t,e),this._context.lineTo(i+t,i+e),this._context.lineTo(t,i+e),this._context.closePath()}}]),e}(c),S=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size;return this._context.translate(t,t),this._context.rotate(180*Math.PI/180),j.prototype.drawTile.call(this),this._canvas}}]),e}(j),D=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDiamond(),this.drawDiamond(t,t),this._context.fill(),this._canvas}},{key:"drawDiamond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2,r=n/4;this._context.moveTo(r+t,e),this._context.lineTo(i+t,r+e),this._context.lineTo(r+t,i+e),this._context.lineTo(t,r+e),this._context.closePath()}}]),e}(c),C=function(t){function e(){return o(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),a(e,[{key:"drawTile",value:function(){var t=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiamond(),this.drawDiamond(t,t),this._context.stroke(),this._canvas}},{key:"drawDiamond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._size,i=n/2-1,r=n/4;this._context.moveTo(r+t,e+1),this._context.lineTo(i+t,r+e),this._context.lineTo(r+t,i+e),this._context.lineTo(t+1,r+e),this._context.closePath()}}]),e}(D),F={plus:l,cross:_,dash:g,"cross-dash":v,dot:f,"dot-dash":d,disc:p,ring:m,line:x,"line-vertical":y,weave:w,zigzag:P,"zigzag-vertical":k,diagonal:T,"diagonal-right-left":b,square:z,box:O,triangle:j,"triangle-inverted":S,diamond:D,"diamond-box":C},I={circle:F.disc,"triangle-vertical":F["triangle-inverted"],"line-horizontal":F.line,"line-diagonal-lr":F.diagonal,"line-diagonal-rl":F["diagonal-right-left"],"zigzag-horizontal":F.zigzag,"diamond-outline":F["diamond-box"]},M=[];Object.assign(M,F,I);var E={draw:e,generate:n};return E});
